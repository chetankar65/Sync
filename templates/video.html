<!DOCTYPE html>
<html>
  <body>
    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player"></div>

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
          player = new YT.Player('player', {
              height: '390',
              width: '640',
              playerVars: { 'autoplay': 1, 'controls': 0 },
              videoId: 'M7lc1UVf-VE',
              events: {
                'onReady': onPlayerReady,
              } 
          });
      }

      /// Shall have a boolean value over a socket channel

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
          player.setPlaybackRate(2);
          event.target.playVideo();
          //alert(event.target.getCurrentTime());
          player.mute()
          console.log(player.getPlayerState())
          //event.target.pauseVideo()
          //event.target.getDuration()
          //event.target.seekTo(seconds:Number, allowSeekAhead:Boolean)
          //player.seekTo(seconds:Number, allowSeekAhead:Boolean) with progress bar
          //player.setVolume(volume:Number):Void
          //player.getVolume():Number
          //player.getPlaybackRate():Number
          //player.setPlaybackRate(suggestedRate:Number):Void
      }

      /*
      1 – unstarted
      0 – ended
      1 – playing
      2 – paused
      3 – buffering
      5 – video cued
      */
    </script>
  </body>
</html>